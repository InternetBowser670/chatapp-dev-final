<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sign Up</title>
    <link rel="icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="/styles/main" />
  </head>
  <body>
    <div class="blackGlow styleDiv qtrCentered centerContent">
      <h1>Create an account</h1>


      <form id="form">
        <input
          type="text"
          placeholder="Username"
          name="username"
          id="username"
        />
        <br />
        <input
          type="password"
          placeholder="Password"
          name="password"
          id="password"
        />
        <br />
        <p>Enter your birthday</p>
        <input type="date" id=datefield min='1899-01-01' max='2024-9-6' name="bday" placeholder="1" />
        <br />
        <input type="submit" name="submit" value="sign up" />
      </form>
    </div>
    <script>
      var today = new Date();
      var dd = today.getDate();
      var mm = today.getMonth() + 1; //January is 0
      var yyyy = today.getFullYear();

      if (dd < 10) {
         dd = '0' + dd;
      }

      if (mm < 10) {
         mm = '0' + mm;
      } 

      today = yyyy + '-' + mm + '-' + dd;
      document.getElementById("datefield").setAttribute("max", today);
    </script>
    <script>
      // Function to fetch and apply colors on page load
      async function applySavedColors() {
        try {
          const response = await fetch('/get-colors', {
            method: 'GET',
            headers: {
              'Content-Type': 'application/json'
            }
          });
    
          if (response.ok) {
            const colors = await response.json();
            const color1 = colors.color1 || '#1c0166';  // Default color1 if not set
            const color2 = colors.color2 || '#100038';  // Default color2 if not set
    
            // Apply the colors as a gradient to the page's background
            document.documentElement.style.backgroundImage = `linear-gradient(${color1}, ${color2})`;
          } else {
            console.error('Failed to fetch colors.');
          }
        } catch (error) {
          console.error('Error fetching colors:', error);
        }
      }
    
      // Run the function when the page loads
      window.addEventListener('load', applySavedColors);
    </script>
    <script src="static/createacc.js"></script>
  </body>
</html>
