<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Convoes</title>
        <link rel="icon" href="/favicon.ico" type="image/x-icon" />
        <link rel="stylesheet" href="/styles/main" />
    </head>
    <body>
        <div class="blackGlow styleDiv halfCentered">
            <h1 class="centered">Welcome to Convoes. (Name WIP)</h1>
            <p class="centered">
                To get started, <a href="/createacc">create an account</a> or
                <a href="/login">login to an existing account</a>
            </p>
        </div>
    </body>
    <script>
        // Function to fetch and apply colors on page load
        async function applySavedColors() {
          try {
            const response = await fetch('/get-colors', {
              method: 'GET',
              headers: {
                'Content-Type': 'application/json'
              }
            });
      
            if (response.ok) {
              const colors = await response.json();
              const color1 = colors.color1 || '#1c0166';  // Default color1 if not set
              const color2 = colors.color2 || '#100038';  // Default color2 if not set
      
              // Apply the colors as a gradient to the page's background
              document.documentElement.style.backgroundImage = `linear-gradient(${color1}, ${color2})`;
            } else {
              console.error('Failed to fetch colors.');
            }
          } catch (error) {
            console.error('Error fetching colors:', error);
          }
        }
      
        // Run the function when the page loads
        window.addEventListener('load', applySavedColors);
      </script>
</html>
